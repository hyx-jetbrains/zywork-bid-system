(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1925dfdd"],{"1a21":function(e,l,a){"use strict";a.d(l,"s",function(){return t}),a.d(l,"t",function(){return r}),a.d(l,"v",function(){return o}),a.d(l,"F",function(){return n}),a.d(l,"u",function(){return i}),a.d(l,"D",function(){return s}),a.d(l,"C",function(){return c}),a.d(l,"J",function(){return u}),a.d(l,"h",function(){return d}),a.d(l,"r",function(){return v}),a.d(l,"B",function(){return p}),a.d(l,"K",function(){return m}),a.d(l,"E",function(){return b}),a.d(l,"o",function(){return h}),a.d(l,"f",function(){return f}),a.d(l,"c",function(){return g}),a.d(l,"e",function(){return y}),a.d(l,"d",function(){return M}),a.d(l,"L",function(){return j}),a.d(l,"a",function(){return F}),a.d(l,"i",function(){return I}),a.d(l,"j",function(){return w}),a.d(l,"b",function(){return x}),a.d(l,"w",function(){return T}),a.d(l,"m",function(){return k}),a.d(l,"M",function(){return S}),a.d(l,"k",function(){return _}),a.d(l,"O",function(){return D}),a.d(l,"n",function(){return P}),a.d(l,"g",function(){return $}),a.d(l,"p",function(){return C}),a.d(l,"l",function(){return z}),a.d(l,"I",function(){return B}),a.d(l,"H",function(){return R}),a.d(l,"G",function(){return U}),a.d(l,"x",function(){return A}),a.d(l,"A",function(){return O}),a.d(l,"q",function(){return N});var t=[{value:0,label:"激活"},{value:1,label:"冻结"}],r=[{value:1,label:"是"},{value:0,label:"否"}],o=[{value:0,label:"未启动"},{value:1,label:"运行中"},{value:2,label:"已停止"},{value:3,label:"已暂停"},{value:4,label:"已删除"}],n=[{value:"房建市政",label:"房建市政"},{value:"水利工程",label:"水利工程"},{value:"交通工程",label:"交通工程"},{value:"政府采购",label:"政府采购"},{value:"重点工程",label:"重点工程"},{value:"其他项目",label:"其他项目"}],i=[{value:0,label:"非电子"},{value:1,label:"电子"}],s=[{value:"待审核",label:"待审核"},{value:"已发布",label:"已发布"}],c=[{value:"公告中",label:"公告中"},{value:"待开标",label:"待开标"},{value:"已开标",label:"已开标"}],u=[{value:0,label:"省内"},{value:1,label:"省外"}],d=[{value:"1",label:"代理机构"},{value:"3",label:"投标人"}],v={1:[{value:"181",label:"房建招标代理"},{value:"182",label:"交通招标代理"},{value:"183",label:"水利招标代理"}],3:[{value:"131",label:"房建及市政施工单位"},{value:"132",label:"交通施工单位"},{value:"133",label:"水利施工单位"},{value:"135",label:"重点工程投标单位"},{value:"143",label:"水利监理单位"},{value:"163",label:"水利勘查设计单位"},{value:"141",label:"房建及市政监理单位"},{value:"161",label:"房建及市政设计单位"}]},p=[{value:"南昌市",label:"南昌市"},{value:"景德镇市",label:"景德镇市"},{value:"萍乡市",label:"萍乡市"},{value:"九江市",label:"九江市"},{value:"新余市",label:"新余市"},{value:"鹰潭市",label:"鹰潭市"},{value:"赣州市",label:"赣州市"},{value:"吉安市",label:"吉安市"},{value:"宜春市",label:"宜春市"},{value:"抚州市",label:"抚州市"},{value:"上饶市",label:"上饶市"}],m=[{value:"Image",label:"图片"},{value:"Document",label:"文档"},{value:"Video",label:"视频"},{value:"Audio",label:"音频"}],b=[{value:0,label:"资审文件"},{value:1,label:"招标文件"},{value:2,label:"清单文件"},{value:3,label:"控股价文件"},{value:4,label:"澄清答疑文件"},{value:5,label:"进赣报名信息"}],h=[{value:0,label:"未知"},{value:1,label:"男"},{value:2,label:"女"}],f=[{value:"一级建造师",label:"一级建造师"},{value:"二级建造师",label:"二级建造师"},{value:"造价工程师",label:"造价工程师"},{value:"技工证",label:"技工证"},{value:"结构工程师",label:"结构工程师"},{value:"建筑师",label:"建筑师"},{value:"监理工程师",label:"监理工程师"},{value:"注册咨询师",label:"注册咨询师"},{value:"电气工程师",label:"电气工程师"},{value:"公用设备工程师",label:"公用设备工程师"},{value:"土木工程师",label:"土木工程师"},{value:"职称证书",label:"职称证书"},{value:"中级职称证书",label:"中级职称证书"},{value:"高级职称证书",label:"高级职称证书"},{value:"八大员",label:"八大员"},{value:"其他证书",label:"其他证书"}],g={"一级建造师":[{value:"建筑工程",label:"建筑工程"},{value:"机电工程",label:"机电工程"},{value:"市政公用",label:"市政公用"},{value:"公路工程",label:"公路工程"},{value:"铁路工程",label:"铁路工程"},{value:"水利水电",label:"水利水电"},{value:"民航机场",label:"民航机场"},{value:"通信与广电",label:"通信与广电"}],"二级建造师":[{value:"建筑工程",label:"建筑工程"},{value:"机电工程",label:"机电工程"},{value:"水利水电工程",label:"水利水电工程"},{value:"公路工程",label:"公路工程"},{value:"矿业工程",label:"矿业工程"},{value:"市政公用工程",label:"市政公用工程"}],"造价工程师":[{value:"建设部",label:"建设部"},{value:"交通部",label:"交通部"},{value:"水利部",label:"水利部"}],"技工证":[{value:"初级技工证",label:"初级技工证"},{value:"中级技工证",label:"中级技工证"},{value:"高级技工证",label:"高级技工证"}],"结构工程师":[{value:"一级结构师",label:"一级结构师"},{value:"二级结构师",label:"二级结构师"}],"建筑师":[{value:"一级建筑师",label:"一级建筑师"},{value:"二级建筑师",label:"二级建筑师"}],"监理工程师":[],"注册咨询师":[{value:"环境工程和生态建设",label:"环境工程和生态建设"},{value:"市政公用工程",label:"市政公用工程"},{value:"其他",label:"其他"},{value:"公路/铁路/民航",label:"公路/铁路/民航"},{value:"城市轨道交通",label:"城市轨道交通"},{value:"水电/核电/火电",label:"水电/核电/火电"},{value:"煤炭/石化",label:"煤炭/石化"},{value:"石油天然气",label:"石油天然气"},{value:"化工、医药",label:"化工、医药"},{value:"建筑/建筑材料",label:"建筑/建筑材料"},{value:"机械/电子",label:"机械/电子"},{value:"轻工/纺织、化纤",label:"轻工/纺织、化纤"},{value:"钢铁/有色冶金",label:"钢铁/有色冶金"},{value:"农业/林业",label:"农业/林业"},{value:"通信/广播电影电视",label:"通信/广播电影电视"},{value:"地质/测量/岩土工程",label:"地质/测量/岩土工程"},{value:"港口河海工程",label:"港口河海工程"},{value:"城市规划",label:"城市规划"},{value:"综合经济",label:"综合经济"}],"电气工程师":[{value:"供配电",label:"供配电"},{value:"发输变电",label:"发输变电"}],"公用设备工程师":[{value:"暖通空调",label:"暖通空调"},{value:"动力",label:"动力"},{value:"给水排水",label:"给水排水"}],"土木工程师":[{value:"注册岩土",label:"注册岩土"},{value:"港口航道",label:"港口航道"},{value:"水利水电",label:"水利水电"}],"职称证书":[{value:"工民建",label:"工民建"},{value:"建筑工程/土建/房建",label:"建筑工程/土建/房建"},{value:"园林设计师",label:"园林设计师"},{value:"其他",label:"其他"},{value:"结构",label:"结构"},{value:"暖通空调/热处理",label:"暖通空调/热处理"},{value:"设计类",label:"设计类"},{value:"市政/公路/机电",label:"市政/公路/机电"},{value:"土建/造价/概预算",label:"土建/造价/概预算"},{value:"土木工程/道路桥梁",label:"土木工程/道路桥梁"},{value:"经济师专业类",label:"经济师专业类"},{value:"电气",label:"电气"},{value:"船舶/冷冻类",label:"船舶/冷冻类"},{value:"计算机系统集成",label:"计算机系统集成"},{value:"建筑设计类",label:"建筑设计类"},{value:"园林绿化",label:"园林绿化"},{value:"暖通",label:"暖通"},{value:"给排水",label:"给排水"},{value:"化工",label:"化工"},{value:"燃气",label:"燃气"},{value:"机械设备/机械",label:"机械设备/机械"},{value:"电子",label:"电子"},{value:"通信",label:"通信"},{value:"水利水电",label:"水利水电"},{value:"电力/热能动力",label:"电力/热能动力"},{value:"岩土",label:"岩土"},{value:"能源工程",label:"能源工程"},{value:"环保/规划",label:"环保/规划"},{value:"焊接",label:"焊接"},{value:"会计",label:"会计"},{value:"环境工程",label:"环境工程"},{value:"总图",label:"总图"},{value:"测量/测绘",label:"测量/测绘"},{value:"防护防化",label:"防护防化"},{value:"通风",label:"通风"}],"中级职称证书":[{value:"工民建",label:"工民建"},{value:"建筑工程/土建/房建",label:"建筑工程/土建/房建"},{value:"园林设计师",label:"园林设计师"},{value:"其他",label:"其他"},{value:"结构",label:"结构"},{value:"暖通空调/热处理",label:"暖通空调/热处理"},{value:"设计类",label:"设计类"},{value:"市政/公路/机电",label:"市政/公路/机电"},{value:"土建/造价/概预算",label:"土建/造价/概预算"},{value:"土木工程/道路桥梁",label:"土木工程/道路桥梁"},{value:"经济师专业类",label:"经济师专业类"},{value:"电气",label:"电气"},{value:"船舶/冷冻类",label:"船舶/冷冻类"},{value:"计算机系统集成",label:"计算机系统集成"},{value:"建筑设计类",label:"建筑设计类"},{value:"园林绿化",label:"园林绿化"},{value:"暖通",label:"暖通"},{value:"给排水",label:"给排水"},{value:"化工",label:"化工"},{value:"燃气",label:"燃气"},{value:"机械设备/机械",label:"机械设备/机械"},{value:"电子",label:"电子"},{value:"通信",label:"通信"},{value:"水利水电",label:"水利水电"},{value:"电力/热能动力",label:"电力/热能动力"},{value:"岩土",label:"岩土"},{value:"能源工程",label:"能源工程"},{value:"环保/规划",label:"环保/规划"},{value:"焊接",label:"焊接"},{value:"会计",label:"会计"},{value:"环境工程",label:"环境工程"},{value:"总图",label:"总图"},{value:"测量/测绘",label:"测量/测绘"},{value:"防护防化",label:"防护防化"},{value:"通风",label:"通风"}],"高级职称证书":[{value:"工民建",label:"工民建"},{value:"建筑工程/土建/房建",label:"建筑工程/土建/房建"},{value:"园林设计师",label:"园林设计师"},{value:"其他",label:"其他"},{value:"结构",label:"结构"},{value:"暖通空调/热处理",label:"暖通空调/热处理"},{value:"设计类",label:"设计类"},{value:"市政/公路/机电",label:"市政/公路/机电"},{value:"土建/造价/概预算",label:"土建/造价/概预算"},{value:"土木工程/道路桥梁",label:"土木工程/道路桥梁"},{value:"经济师专业类",label:"经济师专业类"},{value:"电气",label:"电气"},{value:"船舶/冷冻类",label:"船舶/冷冻类"},{value:"计算机系统集成",label:"计算机系统集成"},{value:"建筑设计类",label:"建筑设计类"},{value:"园林绿化",label:"园林绿化"},{value:"暖通",label:"暖通"},{value:"给排水",label:"给排水"},{value:"化工",label:"化工"},{value:"燃气",label:"燃气"},{value:"机械设备/机械",label:"机械设备/机械"},{value:"电子",label:"电子"},{value:"通信",label:"通信"},{value:"水利水电",label:"水利水电"},{value:"电力/热能动力",label:"电力/热能动力"},{value:"岩土",label:"岩土"},{value:"能源工程",label:"能源工程"},{value:"环保/规划",label:"环保/规划"},{value:"焊接",label:"焊接"},{value:"会计",label:"会计"},{value:"环境工程",label:"环境工程"},{value:"总图",label:"总图"},{value:"测量/测绘",label:"测量/测绘"},{value:"防护防化",label:"防护防化"},{value:"通风",label:"通风"}],"八大员":[{value:"通信",label:"通信"},{value:"施工员",label:"施工员"},{value:"质量员",label:"质量员"},{value:"安全员",label:"安全员"},{value:"机械员",label:"机械员"},{value:"造价员",label:"造价员"},{value:"劳务员",label:"劳务员"},{value:"材料员",label:"材料员"},{value:"资料员",label:"资料员"}],"其他证书":[]},y=[{value:"闲置中",label:"闲置中"},{value:"合同快到期",label:"合同快到期"}],M=[{value:"初始",label:"初始"},{value:"转注",label:"转注"}],j=[{value:"一万元以下",label:"一万元以下"},{value:"1-2万元",label:"1-2万元"},{value:"2-3万元",label:"2-3万元"},{value:"3-5万元",label:"3-5万元"},{value:"5-10万元",label:"5-10万元"},{value:"10-15万元",label:"10-15万元"},{value:"15万元以上",label:"15万元以上"}],F=[{value:0,label:"购买"},{value:1,label:"转让"}],I=[{value:"一级",label:"一级"},{value:"二级",label:"二级"},{value:"三级",label:"三级"}],w=[{value:"房建市政",label:"房建市政"},{value:"水利工程",label:"水利工程"},{value:"交通工程",label:"交通工程"},{value:"政府采购",label:"政府采购"},{value:"重点工程",label:"其他项目"}],x=[{value:"小轿车",label:"小轿车"},{value:"suv",label:"suv"},{value:"面包车",label:"面包车"},{value:"越野车",label:"越野车"},{value:"班车",label:"班车"}],T=[{value:0,label:"全职"},{value:1,label:"兼职"}],k=[{value:"不限",label:"不限"},{value:"大专",label:"大专"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"}],S=[{value:"资料",label:"资料"},{value:"文件夹",label:"文件夹"},{value:"物品",label:"物品"},{value:"包裹",label:"包裹"},{value:"重要证件",label:"重要证件"}],_=[{value:0,label:"待使用"},{value:1,label:"已使用"}],D=[{value:"验证不通过",label:"验证不通过"},{value:"验证通过",label:"验证通过"}],P=[{value:0,label:"审核中"},{value:1,label:"审核通过"},{value:2,label:"审核不通过"}],$=[{value:"资格后审",label:"资格后审"}],C=[{value:"江西数达信息科技有限公司",label:"江西数达信息科技有限公司"}],z=[{value:"充值VIP",label:"充值VIP"}],B=[{value:"招聘中",label:"招聘中"},{value:"已停止",label:"已停止"}],R=[{value:"project/procurement",label:"政府采购"},{value:"project/house",label:"房建市政"},{value:"project/conservancy",label:"水利工程"},{value:"project/traffic",label:"交通工程"},{value:"project/key",label:"重点项目"},{value:"project/other",label:"其他项目"}],U=[{value:"project-announce/procurement",label:"政府采购"},{value:"project-announce/house",label:"房建市政"},{value:"project-announce/conservancy",label:"水利工程"},{value:"project-announce/traffic",label:"交通工程"},{value:"project-announce/key",label:"重点项目"},{value:"project-announce/other",label:"其他项目"}],A=[{value:"长期",label:"长期"},{value:"短期",label:"短期"},{value:"钟点",label:"钟点"}],O=[{value:"银行自提",label:"银行自提"},{value:"顺丰邮寄",label:"顺丰邮寄"},{value:"带至开标现场",label:"带至开标现场"}],N=[{value:"未办理",label:"未办理"},{value:"已办理",label:"已办理"}]},"24d2":function(e,l,a){"use strict";a.d(l,"c",function(){return s}),a.d(l,"a",function(){return c}),a.d(l,"d",function(){return u}),a.d(l,"b",function(){return d});a("ac6a"),a("386d");var t=a("795b"),r=a.n(t),o=a("66df"),n=a("2e19"),i=a("f62d"),s=(a("4328"),function(e,l){return new r.a(function(a,t){o["a"].request({url:e.urls.releaseStatusUrl,method:"POST",data:{id:l.id,releaseStatus:l.releaseStatus}}).then(function(l){l.data.code!==n["b"]?e.$Message.error(l.data.message):e.$Message.success(l.data.message),i["A"](e),a(l)}).catch(function(l){console.log(l),e.$Message.error("发布失败，稍候再试"),t(l)})})}),c=function(e,l){return new r.a(function(a,t){e.$Modal.confirm({title:"确认发布",content:"请确认重要信息是否填写完毕？确认无误后点击确定按钮发布",onOk:function(){var r=[];0===e.table.selections.length?e.$Message.warning("请选择需要批量发布的数据"):(e.table.selections.forEach(function(e,a){e.releaseStatus!==l&&r.push({id:e.id,releaseStatus:l})}),r.length>0?o["a"].request({url:e.urls.batchReleaseUrl,method:"POST",data:r}).then(function(l){l.data.code!==n["b"]?e.$Message.error(l.data.message):(e.$Message.success(l.data.message),e.table.selections=[],i["A"](e)),a(l)}).catch(function(l){console.log(l),e.$Message.error("批量发布数据失败，稍候再试"),t(l)}):e.$Message.warning("没有需要批量发布的数据"))},onCancel:function(){}})})},u=function(e,l){return new r.a(function(a,t){var r=0===l.isGuarantee?1:0;o["a"].request({url:e.urls.activeUrl,method:"POST",data:{id:l.id,isGuarantee:r}}).then(function(l){l.data.code!==n["b"]?e.$Message.error(l.data.message):e.$Message.success("开启或关闭成功"),i["A"](e),a(l)}).catch(function(l){console.log(l),e.$Message.error("设置失败，稍候再试"),t(l)})})},d=function(e,l){return new r.a(function(a,t){e.loading.delete=!0,o["a"].request({url:e.urls.deleteUrl,method:"POST",data:l}).then(function(l){l.data.code!==n["b"]?e.$Message.error(l.data.message):(e.modal.delete=!1,e.$Message.success(l.data.message)),e.loading.delete=!1,i["A"](e),a(l)}).catch(function(l){console.log(l),e.loading.delete=!1,e.$Message.error("删除失败，稍候再试"),t(l)})})}},"386d":function(e,l,a){a("214f")("search",1,function(e,l,a){return[function(a){"use strict";var t=e(this),r=void 0==a?void 0:a[l];return void 0!==r?r.call(a,t):new RegExp(a)[l](String(t))},a]})},ccdd:function(e,l,a){"use strict";a.r(l);var t=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",[a("Row",[a("i-col",{attrs:{span:"24"}},[a("Card",[a("Button",{attrs:{type:"primary"},on:{click:function(l){e.showModal("add")}}},[e._v("添加")]),e._v(" \n        "),a("Dropdown",{on:{"on-click":e.batchOpt}},[a("Button",{attrs:{type:"primary"}},[e._v("\n            批量操作\n            "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"batchActive"}},[e._v("批量激活")]),a("DropdownItem",{attrs:{name:"batchInactive"}},[a("span",{staticStyle:{color:"red"}},[e._v("批量冻结")])])],1)],1),e._v(" \n        "),a("Button",{attrs:{type:"primary"},on:{click:function(l){e.showModal("search")}}},[e._v("高级搜索")]),e._v(" \n        "),a("Button",{attrs:{type:"primary"},on:{click:function(l){e.showModal("project")}}},[e._v("选择项目")]),e._v(" \n        "),a("Button",{attrs:{type:"error"},on:{click:function(l){e.showModal("delete")}}},[e._v("删除附件")]),e._v(" \n        "),a("Tooltip",{attrs:{content:"刷新",placement:"right"}},[a("Button",{attrs:{icon:"md-refresh",type:"success",shape:"circle"},on:{click:e.search}})],1),a("Table",{ref:"dataTable",staticStyle:{"margin-top":"20px"},attrs:{stripe:"",loading:e.table.loading,columns:e.table.tableColumns,data:e.table.tableDetails},on:{"on-selection-change":e.changeSelection,"on-sort-change":e.changeSort}}),a("div",{staticStyle:{margin:"20px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.page.total,current:e.searchForm.pageNo,showSizer:"",showTotal:""},on:{"on-change":e.changePageNo,"on-page-size-change":e.changePageSize}})],1)])],1)],1)],1),a("Modal",{attrs:{title:"添加"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("addForm",l)}},model:{value:e.modal.add,callback:function(l){e.$set(e.modal,"add",l)},expression:"modal.add"}},[a("Form",{ref:"addForm",attrs:{model:e.form,"label-width":80,rules:e.validateRules}},[a("FormItem",{attrs:{label:"项目编号",prop:"projectId"}},[a("span",{domProps:{textContent:e._s(e.form.projectId)}}),e._v("\n         \n        "),a("Button",{attrs:{type:"text"},on:{click:function(l){e.showModal("projectChoice")}}},[e._v("选择项目")]),e._v(" \n      ")],1),a("FormItem",{attrs:{label:"项目",prop:"projectTitle"}},[a("span",{domProps:{textContent:e._s(e.projectTitle)}})]),a("FormItem",{attrs:{label:"资源类别",prop:"resType"}},[a("Select",{attrs:{placeholder:"请选择资源类别",clearable:"",filterable:""},model:{value:e.form.resType,callback:function(l){e.$set(e.form,"resType",l)},expression:"form.resType"}},e._l(e.projectResourceType,function(l){return a("i-option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1),a("FormItem",{attrs:{label:"资源文件",prop:"resourceId"}},[a("Upload",{ref:"uploadFile",attrs:{type:"drag",data:{projectId:e.form.projectId},action:e.urls.uploadResourceUrl,"on-success":e.handleSuccess,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,"on-remove":e.handleRemoveFile,"on-progress":e.handleProgress,format:["doc","docx","pdf","xls","xlsx"],"max-size":51200,headers:e.uploadHeader}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[e._v("单击或拖动文件到此处上传")])],1)])],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.resetFormCancelModal("addForm","add")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.add},on:{click:e.add}},[e._v("添加")])],1)],1),a("Modal",{attrs:{title:"修改"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("editForm",l)}},model:{value:e.modal.edit,callback:function(l){e.$set(e.modal,"edit",l)},expression:"modal.edit"}},[a("Form",{ref:"editForm",attrs:{model:e.form,"label-width":80,rules:e.validateRules}},[a("FormItem",{attrs:{label:"项目编号",prop:"projectId"}},[a("span",{domProps:{textContent:e._s(e.form.projectId)}}),e._v("\n         \n        "),a("Button",{attrs:{type:"text"},on:{click:function(l){e.showModal("projectChoice")}}},[e._v("选择项目")]),e._v(" \n      ")],1),a("FormItem",{attrs:{label:"项目",prop:"projectTitle"}},[a("span",{domProps:{textContent:e._s(e.projectTitle)}})]),a("FormItem",{attrs:{label:"资源类别",prop:"resType"}},[a("Select",{attrs:{placeholder:"请选择资源类别",clearable:"",filterable:""},model:{value:e.form.resType,callback:function(l){e.$set(e.form,"resType",l)},expression:"form.resType"}},e._l(e.projectResourceType,function(l){return a("i-option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.resetFormCancelModal("editForm","edit")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.edit},on:{click:e.edit}},[e._v("修改")])],1)],1),a("Modal",{attrs:{title:"高级搜索"},model:{value:e.modal.search,callback:function(l){e.$set(e.modal,"search",l)},expression:"modal.search"}},[a("Form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":80}},[a("FormItem",{attrs:{label:"项目资源表主键"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"idMin"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入开始项目资源表主键"},model:{value:e.searchForm.idMin,callback:function(l){e.$set(e.searchForm,"idMin",l)},expression:"searchForm.idMin"}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"idMax"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入结束项目资源表主键"},model:{value:e.searchForm.idMax,callback:function(l){e.$set(e.searchForm,"idMax",l)},expression:"searchForm.idMax"}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"项目编号"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"projectIdMin"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入开始项目编号"},model:{value:e.searchForm.projectIdMin,callback:function(l){e.$set(e.searchForm,"projectIdMin",l)},expression:"searchForm.projectIdMin"}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"projectIdMax"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入结束请项目编号"},model:{value:e.searchForm.projectIdMax,callback:function(l){e.$set(e.searchForm,"projectIdMax",l)},expression:"searchForm.projectIdMax"}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"资源类别"}},[a("Select",{attrs:{placeholder:"请选择资源类别",clearable:"",filterable:""},model:{value:e.searchForm.resType,callback:function(l){e.$set(e.searchForm,"resType",l)},expression:"searchForm.resType"}},e._l(e.projectResourceType,function(l){return a("i-option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1),a("FormItem",{attrs:{label:"是否激活",prop:"isActive"}},[a("Select",{attrs:{placeholder:"请选择是否激活",clearable:"",filterable:""},model:{value:e.searchForm.isActive,callback:function(l){e.$set(e.searchForm,"isActive",l)},expression:"searchForm.isActive"}},e._l(e.isActiveSelect,function(l){return a("i-option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1),a("FormItem",{attrs:{label:"版本号"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"versionMin"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入开始版本号"},model:{value:e.searchForm.versionMin,callback:function(l){e.$set(e.searchForm,"versionMin",l)},expression:"searchForm.versionMin"}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"versionMax"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入结束版本号"},model:{value:e.searchForm.versionMax,callback:function(l){e.$set(e.searchForm,"versionMax",l)},expression:"searchForm.versionMax"}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"创建时间"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"createTimeMin"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.createTimeMin,placeholder:"请输入开始创建时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.createTimeMin=l}}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"createTimeMax"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.createTimeMax,placeholder:"请输入结束创建时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.createTimeMax=l}}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"更新时间"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"updateTimeMin"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.updateTimeMin,placeholder:"请输入开始更新时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.updateTimeMin=l}}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"updateTimeMax"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.updateTimeMax,placeholder:"请输入结束更新时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.updateTimeMax=l}}})],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.resetForm("searchForm")}}},[e._v("清空")]),a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.cancelModal("search")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.search},on:{click:function(l){e.searchOkModal("search")}}},[e._v("搜索")])],1)],1),a("Modal",{attrs:{title:"详情"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("editForm",l)}},model:{value:e.modal.detail,callback:function(l){e.$set(e.modal,"detail",l)},expression:"modal.detail"}},[a("p",[e._v("\n      项目资源表主键:\n      "),a("span",{domProps:{textContent:e._s(e.form.id)}})]),a("p",[e._v("\n      项目编号:\n      "),a("span",{domProps:{textContent:e._s(e.form.projectId)}})]),a("p",[e._v("\n      资源编号:\n      "),a("span",{domProps:{textContent:e._s(e.form.resourceId)}})]),a("p",[e._v("\n      资源类别:\n      "),a("span",{domProps:{textContent:e._s(e.form.resType)}})]),a("p",[e._v("\n      版本号:\n      "),a("span",{domProps:{textContent:e._s(e.form.version)}})]),a("p",[e._v("\n      创建时间:\n      "),a("span",{domProps:{textContent:e._s(e.form.createTime)}})]),a("p",[e._v("\n      更新时间:\n      "),a("span",{domProps:{textContent:e._s(e.form.updateTime)}})]),a("p",[e._v("\n      是否激活:\n      "),a("span",{domProps:{textContent:e._s(0===e.form.isActive?"激活":"冻结")}})])]),a("Modal",{attrs:{title:"选择招投标项目",closable:!0,"mask-closable":!0,width:"1000"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("editForm",l)}},model:{value:e.modal.project,callback:function(l){e.$set(e.modal,"project",l)},expression:"modal.project"}},[a("project-list",{ref:"projectListItem",on:{initData:e.initData}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default",size:"large"},on:{click:function(l){e.cancelModal("project")}}},[e._v("取消")])],1)],1),a("Modal",{attrs:{transfer:!1,title:"招投标项目详情"},model:{value:e.modal.projectDetail,callback:function(l){e.$set(e.modal,"projectDetail",l)},expression:"modal.projectDetail"}},[a("project-detail",{attrs:{form:e.projectDetailForm}})],1),a("Modal",{attrs:{transfer:!1,fullscreen:"",title:"搜索主表信息"},model:{value:e.modal.projectDetailSearch,callback:function(l){e.$set(e.modal,"projectDetailSearch",l)},expression:"modal.projectDetailSearch"}},[a("project-list-single",{ref:"ProjectListSingle",on:{confirmSelectionProject:e.confirmSelectionProject}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.cancelModal("projectDetailSearch")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.confirmProject}},[e._v("确认选择")])],1)],1),a("Modal",{attrs:{transfer:!1,fullscreen:"",title:"选择招投标项目"},model:{value:e.modal.projectChoice,callback:function(l){e.$set(e.modal,"projectChoice",l)},expression:"modal.projectChoice"}},[a("project-list-choice",{ref:"ProjectListChoice",on:{confirmChoiceProject:e.confirmChoiceProject}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.cancelModal("projectChoice")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.confirmChoice}},[e._v("确认选择")])],1)],1),a("Modal",{attrs:{transfer:!1,title:"资源预览"},model:{value:e.modal.resourceDetail,callback:function(l){e.$set(e.modal,"resourceDetail",l)},expression:"modal.resourceDetail"}},[a("img",{staticStyle:{width:"490px"},attrs:{src:e.imgUrl}}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default",size:"large"},on:{click:function(l){e.cancelModal("resourceDetail")}}},[e._v("取消")])],1)]),a("Modal",{attrs:{title:"删除附件"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("deleteForm",l)}},model:{value:e.modal.delete,callback:function(l){e.$set(e.modal,"delete",l)},expression:"modal.delete"}},[a("Form",{ref:"deleteForm",attrs:{model:e.deleteForm,"label-width":80}},[a("FormItem",{attrs:{label:"删除密码"}},[a("Input",{staticStyle:{width:"100%"},attrs:{type:"password",placeholder:"请输入删除密码"},model:{value:e.deleteForm.password,callback:function(l){e.$set(e.deleteForm,"password",l)},expression:"deleteForm.password"}})],1),a("FormItem",{attrs:{label:"删除时间"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"createTimeMin"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.deleteForm.createTimeMin,placeholder:"请输入开始时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.deleteForm.createTimeMin=l}}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"createTimeMax"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.deleteForm.createTimeMax,placeholder:"请输入结束时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.deleteForm.createTimeMax=l}}})],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.cancelModal("delete")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.delete},on:{click:e.deleteData}},[e._v("搜索")])],1)],1)],1)},r=[],o=(a("7f7f"),a("f499")),n=a.n(o),i=(a("386d"),a("f62d")),s=a("2e19"),c=a("e8f0"),u=a("f08a"),d=a("d3e2"),v=a("816b"),p=a("6776"),m=a("1a21"),b=a("24d2"),h=a("f121"),f=a("c276"),g=h["a"].baseUrl.pro,y=h["a"].baseUrl.cdnUrl,M={name:"ProjectResource",components:{ProjectList:c["a"],ProjectDetail:u["a"],ProjectListSingle:d["a"],ProjectListChoice:p["a"]},data:function(){var e=this;return{projectDetailForm:{id:null,title:null,projectType:null,city:null,projectDetail:null,releaseStatus:null,markUnitName:null,projectInvest:null,checkPattern:null,compAptitudeType:null,builderLevel:null,moneyToImplement:100,tenderingAgent:null,phone:null,offerPrice:0,assurePrice:0,constructionPeriod:null,downloadEndTime:null,otherDemand:null,openMarkInfo:null,openMarkTime:null,openMarkAddr:null,inMarkPublicity:null,inMarkComp:null,noticeTime:null,clickCount:null,isElectronic:null,version:null,createTime:null,updateTime:null,isActive:null},modal:{add:!1,edit:!1,search:!1,detail:!1,project:!1,projectDetail:!1,projectDetailSearch:!1,projectChoice:!1,resourceDetail:!1,delete:!1},loading:{add:!1,edit:!1,search:!1,delete:!1},urls:{addUrl:"/projecresource/admin/save",batchAddUrl:"/projecresource/admin/batch-save",editUrl:"/projecresource/admin/update",batchEditUrl:"/projecresource/admin/batch-update",searchUrl:"/projecresource/admin/pager-cond",allUrl:"/projecresource/admin/all",removeUrl:"/projecresource/admin/remove/",batchRemoveUrl:"/projecresource/admin/batch-remove",detailUrl:"/projecresource/admin/one/",activeUrl:"/projecresource/admin/active",projectSelectUrl:"/project/admin/all",batchActiveUrl:"/projecresource/admin/batch-active",uploadResourceUrl:g+"/projecresource/admin/upload-res",resourceOneUrl:"/resource/admin/one/",deleteUrl:"/projecresource/admin/delete"},page:{total:0},deleteForm:{password:"",createTimeMin:"",createTimeMax:""},form:{id:null,projectId:null,resourceId:null,resType:null,version:null,createTime:null,updateTime:null,isActive:null},validateRules:{projectId:[{type:"integer",required:!0,message:"此项为必须项",trigger:"blur, change"}],resourceId:[{type:"integer",required:!0,message:"此项为必须项",trigger:"blur, change"}]},searchForm:{pageNo:1,pageSize:10,sortColumn:null,sortOrder:null,id:null,idMin:null,idMax:null,projectId:null,projectIdMin:null,projectIdMax:null,resourceId:null,resourceIdMin:null,resourceIdMax:null,resType:null,resTypeMin:null,resTypeMax:null,version:null,versionMin:null,versionMax:null,createTime:null,createTimeMin:null,createTimeMax:null,updateTime:null,updateTimeMin:null,updateTimeMax:null,isActive:null,isActiveMin:null,isActiveMax:null},table:{loading:!1,tableColumns:[{type:"selection",width:45,key:"id",align:"center",fixed:"left"},{width:60,align:"center",fixed:"left",render:function(l,a){return l("span",a.index+(e.searchForm.pageNo-1)*e.searchForm.pageSize+1)}},{title:"项目资源表主键",key:"id",minWidth:150,sortable:!0},{title:"项目编号",key:"projectId",minWidth:120,sortable:!0,render:function(l,a){return l("Dropdown",{on:{"on-click":function(l){e.userOpt(l,a.row)}},props:{transfer:!0}},[l("span",[a.row.projectId,l("Icon",{props:{type:"ios-list",size:"25"}})]),l("DropdownMenu",{slot:"list"},[l("DropdownItem",{props:{name:"moduleDetailProject"}},"详情"),l("DropdownItem",{props:{name:"showSearchProject"}},"搜索")])])}},{title:"资源编号",key:"resourceId",minWidth:120,sortable:!0,render:function(l,a){return l("Button",{props:{size:"small",type:"text"},on:{click:function(){e.showResource(a.row)}}},"点击查看")}},{title:"资源类别",key:"resType",minWidth:120,sortable:!0,render:function(e,l){var a=l.row,t=0===a.resType?"primary":1===a.resType?"info":2===a.resType?"success":3===a.resType?"warning":4===a.resType?"primary":5===a.resType?"warning":"error",r=0===a.resType?"资审文件":1===a.resType?"招标文件":2===a.resType?"清单文件":3===a.resType?"控股价文件":4===a.resType?"澄清答疑文件":5===a.resType?"进赣报名信息":"未知";return e("Button",{props:{size:"small",type:t}},r)}},{title:"版本号",key:"version",minWidth:120,sortable:!0},{title:"创建时间",key:"createTime",minWidth:120,sortable:!0},{title:"更新时间",key:"updateTime",minWidth:120,sortable:!0},{title:"激活状态",key:"isActive",minWidth:100,align:"center",render:function(l,a){return l("i-switch",{props:{size:"large",value:0===a.row.isActive},style:{marginRight:"5px"},on:{"on-change":function(l){e.active(a.row)}}},[l("span",{slot:"open"},"激活"),l("span",{slot:"close"},"冻结")])}},{title:"操作",key:"action",width:120,align:"center",fixed:"right",render:function(l,a){return l("Dropdown",{on:{"on-click":function(l){e.userOpt(l,a.row)}},props:{transfer:!0}},[l("Button",{props:{type:"primary",size:"small"}},["选择操作 ",l("Icon",{props:{type:"ios-arrow-down"}})]),l("DropdownMenu",{slot:"list"},[l("DropdownItem",{props:{name:"showEdit"}},"编辑"),l("DropdownItem",{props:{name:"showDetail"}},"详情"),l("DropdownItem",{props:{name:"remove"}},[l("span",{style:{color:"red"}},"删除")])])])}}],tableDetails:[],selections:[]},isActiveSelect:m["s"],projectResourceType:m["E"],uploadHeader:{Authorization:"Bearer "+Object(f["e"])()},projectId:this.$route.params.projectId,imgUrl:"",projectTitle:this.$route.params.projectTitle}},computed:{},mounted:function(){void 0!==this.projectId?this.initData(this.projectId,this.projectTitle):this.modal.project=!0},methods:{initData:function(e,l){this.cancelModal("project"),this.projectId=e,this.projectTitle=l,this.searchForm.projectIdMin=this.searchForm.projectIdMax=this.projectId,this.search()},showModal:function(e){"add"===e?(this.form.projectId=this.projectId,this.form.resourceId=null,this.$refs.uploadFile.clearFiles()):(this.form.projectId="",this.projectTitle=""),i["B"](this,e)},changeModalVisibleResetForm:function(e,l){l||i["z"](this,e)},resetForm:function(e){i["z"](this,e)},cancelModal:function(e){i["h"](this,e)},resetFormCancelModal:function(e,l){i["h"](this,l),i["z"](this,e)},searchOkModal:function(e){i["h"](this,e),this.searchForm.pageNo=1,i["A"](this)},batchOpt:function(e){"batchActive"===e?i["f"](this,0):"batchInactive"===e?i["f"](this,1):"batchRemove"===e&&i["g"](this)},userOpt:function(e,l){var a=this;"showEdit"===e?(i["B"](this,"edit"),this.form=JSON.parse(n()(l)),i["t"]("/project/admin/one/",this.form.projectId).then(function(e){a.projectTitle=e.data.data.title})):"showDetail"===e?(i["B"](this,"detail"),this.form=JSON.parse(n()(l))):"remove"===e?i["y"](this,l):"moduleDetailProject"===e?this.showProjectDetailModal(l.projectId):"showSearchProject"===e&&i["B"](this,"projectDetailSearch")},showProjectDetailModal:function(e){var l=this;Object(v["h"])(e).then(function(e){var a=e.data;a.code===s["b"]?(l.projectDetailForm=a.data,l.showModal("projectDetail")):l.$Message.error(a.message)}).catch(function(e){l.$Message.error(e)})},confirmSelectionProject:function(e,l){this.cancelModal("projectDetailSearch"),this.searchForm.projectIdMin=this.searchForm.projectIdMax=e,i["A"](this)},confirmProject:function(){this.$refs.ProjectListSingle.confirmSelection()},confirmChoiceProject:function(e,l,a){this.projectId=this.form.projectId=e,this.projectTitle=l,this.cancelModal("projectChoice")},confirmChoice:function(){this.$refs.ProjectListChoice.confirmSelection()},add:function(){i["c"](this)},edit:function(){i["q"](this)},active:function(e){i["b"](this,e)},search:function(){i["A"](this)},changeSelection:function(e){i["o"](this,e)},changeSort:function(e){i["p"](this,e)},changePageNo:function(e){i["j"](this,e)},changePageSize:function(e){i["k"](this,e)},handleSuccess:function(e,l){e.code===s["b"]?(this.$Notice.success({title:"上传成功",desc:l.name+" 上传成功"}),this.form.resourceId=e.data.id):(this.$Notice.error({title:"上传失败",desc:e.message}),this.form.resourceId=null,this.$refs.uploadFile.clearFiles())},handleFormatError:function(e){this.$Notice.warning({title:"文件格式不正确",desc:e.name+" 文件格式不正确，请选择Word文档或PDF文档。"})},handleMaxSize:function(e){this.$Notice.warning({title:"超出文件大小限制",desc:e.name+" 太大，不得超50M."})},handleBeforeUpload:function(e){return void 0===this.form.resourceId||null==this.form.resourceId||0===this.form.resourceId?null!==this.form.projectId&&void 0!==this.form.projectId&&""!==this.form.projectId||(this.$Message.error("请先选择项目"),!1):(this.$Message.error("只能上传一个文件"),!1)},handleRemoveFile:function(e){this.form.resourceId=null},handleProgress:function(e,l){this.$Notice.info({title:"文件正在上传",desc:l.name+" 上传中..."})},showResource:function(e){var l=this;i["t"](this.urls.resourceOneUrl,e.resourceId).then(function(e){var a=e.data;if(a.code===s["b"]){var t=a.data.mimeType,r=y+"/"+a.data.url;"Image"===t?(l.imgUrl=r,l.showModal("resourceDetail")):"Document"===t?(l.imgUrl=r,window.open(r)):l.$Message.error(t)}else l.$Message.error(a.message)}).catch(function(e){l.$Message.error(e)})},deleteData:function(){var e=this;this.deleteForm.password?this.deleteForm.createTimeMin?this.deleteForm.createTimeMax?this.$Modal.confirm({title:"确认删除",content:"您确定要执行删除操作吗？此操作不可逆",onOk:function(){Object(b["b"])(e,e.deleteForm)},onCancel:function(){}}):this.$Message.error("请选择结束时间"):this.$Message.error("请选择开始时间"):this.$Message.error("请输入删除密码")}}},j=M,F=a("2877"),I=Object(F["a"])(j,t,r,!1,null,null,null);l["default"]=I.exports}}]);