(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72938d17"],{"386d":function(t,e,n){n("214f")("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,i):new RegExp(n)[e](String(i))},n]})},"644f":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("795b"),s=n.n(i),a=(n("c276"),n("f62d"),n("66df")),o=n("4328"),r=n.n(o),l=n("2e19"),c=function(t){return new s.a(function(e,n){t.loading.search=!0,t.table.loading=!0,a["a"].request({url:t.urls.searchUrl,method:"POST",data:r.a.stringify(t.searchForm)}).then(function(n){t.loading["search"]=!1,t.table.loading=!1,n.data.code!==l["b"]?t.$Message.error(n.data.message):(t.page.total=n.data.data.total,0!==n.data.data.total?t.table.tableDetails=n.data.data.rows:t.table.tableDetails=[]),e(n)}).catch(function(e){console.log(e),t.loading["search"]=!1,t.table.loading=!1,t.$Message.error("加载数据失败，稍候再试"),n(e)})})}},caff:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("i-col",{attrs:{span:"24"}},[n("Card",[n("ButtonGroup",[n("Button",{attrs:{type:t.assigneeTasksBtn},on:{click:function(e){t.initBtn(0)}}},[t._v("指派人任务")]),n("Button",{attrs:{type:t.candidateTasksBtn},on:{click:function(e){t.initBtn(1)}}},[t._v("候选人任务")]),n("Button",{attrs:{type:t.groupTasksBtn},on:{click:function(e){t.initBtn(2)}}},[t._v("候选组任务")])],1),t._v("\n         \n        "),n("Tooltip",{attrs:{content:"刷新",placement:"right"}},[n("Button",{attrs:{icon:"md-refresh",type:"success",shape:"circle"},on:{click:t.search}})],1),n("Table",{ref:"dataTable",staticStyle:{"margin-top":"20px"},attrs:{stripe:"",loading:t.table.loading,columns:t.table.tableColumns,data:t.table.tableDetails},on:{"on-selection-change":t.changeSelection,"on-sort-change":t.changeSort}}),n("div",{staticStyle:{margin:"20px",overflow:"hidden"}},[n("div",{staticStyle:{float:"right"}},[n("Page",{attrs:{total:t.page.total,current:t.searchForm.pageNo,showSizer:"",showTotal:""},on:{"on-change":t.changePageNo,"on-page-size-change":t.changePageSize}})],1)])],1)],1)],1),n("Modal",{attrs:{title:"详情"},model:{value:t.modal.detail,callback:function(e){t.$set(t.modal,"detail",e)},expression:"modal.detail"}},[n("p",[t._v("流程编号:\n      "),n("span",{domProps:{textContent:t._s(t.form.id)}})]),n("p",[t._v("任务拥有者:\n      "),n("span",{domProps:{textContent:t._s(t.form.owner)}})]),n("p",[t._v("任务名称:\n      "),n("span",{domProps:{textContent:t._s(t.form.name)}})]),n("p",[t._v("执行者:\n      "),n("span",{domProps:{textContent:t._s(t.form.assignee)}})]),n("p",[t._v("原执行者:\n      "),n("span",{domProps:{textContent:t._s(t.form.originalAssignee)}})]),n("p",[t._v("父级ID:\n      "),n("span",{domProps:{textContent:t._s(t.form.parentTaskId)}})]),n("p",[t._v("执行ID:\n      "),n("span",{domProps:{textContent:t._s(t.form.executionId)}})]),n("p",[t._v("流程实例ID:\n      "),n("span",{domProps:{textContent:t._s(t.form.processInstanceId)}})]),n("p",[t._v("任务定义Key:\n      "),n("span",{domProps:{textContent:t._s(t.form.taskDefinitionKey)}})]),n("p",[t._v("formKey:\n      "),n("span",{domProps:{textContent:t._s(t.form.formKey)}})]),n("p",[t._v("任务ID:\n      "),n("span",{domProps:{textContent:t._s(t.form.tenantId)}})]),n("p",[t._v("说明:\n      "),n("span",{domProps:{textContent:t._s(t.form.description)}})]),n("p",[t._v("优先级:\n      "),n("span",{domProps:{textContent:t._s(t.form.priority)}})]),n("p",[t._v("创建时间:\n      "),n("span",{domProps:{textContent:t._s(t.form.createTime)}})]),n("p",[t._v("结束日期:\n      "),n("span",{domProps:{textContent:t._s(t.form.dueDate)}})]),n("p",[t._v("修订版本:\n      "),n("span",{domProps:{textContent:t._s(t.form.revision)}})]),n("p",[t._v("租户ID:\n      "),n("span",{domProps:{textContent:t._s(t.form.tenantId)}})])])],1)},s=[],a=n("f499"),o=n.n(a),r=(n("386d"),n("f62d")),l=n("644f"),c=n("2e19"),d={name:"ActivitiInstance",components:{},data:function(){var t=this;return{type:this.$route.params.type,assigneeTasksBtn:"default",candidateTasksBtn:"default",groupTasksBtn:"default",modal:{select:!1,detail:!1},loading:{search:!1},urls:{searchUrl:""},page:{total:0},form:{id:null,owner:null,name:null,assignee:null,originalAssignee:null,parentTaskId:null,executionId:null,processInstanceId:null,taskDefinitionKey:null,formKey:null,tenantId:null,description:null,priority:null,createTime:null,dueDate:null,revision:null},searchForm:{pageNo:1,pageSize:10,processKey:null},table:{loading:!1,tableColumns:[{type:"selection",width:45,key:"id",align:"center",fixed:"left"},{width:60,align:"center",fixed:"left",render:function(e,n){return e("span",n.index+(t.searchForm.pageNo-1)*t.searchForm.pageSize+1)}},{title:"任务编号",key:"id",minWidth:120},{title:"任务拥有者",key:"owner",minWidth:120},{title:"任务名称",key:"name",minWidth:120},{title:"任务执行者",key:"assignee",minWidth:120},{title:"原任务执行者",key:"originalAssignee",minWidth:120},{title:"父级任务ID",key:"parentTaskId",minWidth:120},{title:"执行者ID",key:"executionId",minWidth:120},{title:"流程实例ID",key:"processInstanceId",minWidth:120},{title:"任务定义Key",key:"taskDefinitionKey",minWidth:120},{title:"formKey",key:"formKey",minWidth:120},{title:"说明",key:"description",minWidth:120},{title:"优先级",key:"priority",minWidth:120},{title:"创建时间",key:"createTime",minWidth:120},{title:"结束日期",key:"dueDate",minWidth:120},{title:"修订版本",key:"revision",minWidth:120},{title:"租户ID",key:"tenantId",minWidth:120},{title:"操作",key:"action",width:120,align:"center",fixed:"right",render:function(e,n){return e("Dropdown",{on:{"on-click":function(e){t.userOpt(e,n.row)}},props:{transfer:!0}},[e("Button",{props:{type:"primary",size:"small"}},["选择操作 ",e("Icon",{props:{type:"ios-arrow-down"}})]),e("DropdownMenu",{slot:"list"},[e("DropdownItem",{props:{name:"showDetail"}},"详情")])])}}],tableDetails:[],selections:[]}}},computed:{},mounted:function(){void 0!==this.type?this.search():(this.$Message.error("参数错误"),this.$router.push({name:this.$config.homeName}))},methods:{showModal:function(t){r["B"](this,t)},showDetail:function(t,e){r["B"](this,t),this.form=e},changeModalVisibleResetForm:function(t,e){e||r["z"](this,t)},resetForm:function(t){r["z"](this,t)},cancelModal:function(t){r["h"](this,t)},resetFormCancelModal:function(t,e){r["h"](this,e),r["z"](this,t)},searchOkModal:function(t){r["h"](this,t),r["A"](this)},search:function(){this.initBtn(this.type)},initBtn:function(t){0===t?(this.urls.searchUrl="/process-activiti/admin/query/assignee-tasks",this.assigneeTasksBtn="primary",this.candidateTasksBtn="default",this.groupTasksBtn="default"):1===t?(this.urls.searchUrl="/process-activiti/admin/query/candidate-tasks",this.assigneeTasksBtn="default",this.candidateTasksBtn="primary",this.groupTasksBtn="default"):2===t&&(this.urls.searchUrl="/process-activiti/admin/query/group-tasks",this.assigneeTasksBtn="default",this.candidateTasksBtn="default",this.groupTasksBtn="primary"),l["a"](this)},userOpt:function(t,e){"showDetail"===t&&(r["B"](this,"detail"),this.form=JSON.parse(o()(e)))},changeSelection:function(t){r["o"](this,t)},changeSort:function(t){r["p"](this,t)},changePageNo:function(t){r["j"](this,t)},changePageSize:function(t){r["k"](this,t)},confirmSelection:function(){},selectProcess:function(t){var e=this;this.searchForm.processKey=t.processKey,l["a"](this).then(function(t){t.data.code===c["b"]&&(e.modal.select=!1)}).catch(function(t){e.$Message.error(t)})}}},p=d,u=n("2877"),h=Object(u["a"])(p,i,s,!1,null,null,null);e["default"]=h.exports}}]);