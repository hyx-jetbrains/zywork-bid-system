(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf50e0b4"],{"1a21":function(e,l,a){"use strict";a.d(l,"r",function(){return t}),a.d(l,"s",function(){return r}),a.d(l,"u",function(){return o}),a.d(l,"C",function(){return n}),a.d(l,"t",function(){return i}),a.d(l,"A",function(){return u}),a.d(l,"z",function(){return s}),a.d(l,"G",function(){return c}),a.d(l,"h",function(){return d}),a.d(l,"q",function(){return v}),a.d(l,"y",function(){return b}),a.d(l,"H",function(){return m}),a.d(l,"B",function(){return p}),a.d(l,"o",function(){return f}),a.d(l,"f",function(){return h}),a.d(l,"c",function(){return g}),a.d(l,"e",function(){return M}),a.d(l,"d",function(){return y}),a.d(l,"I",function(){return x}),a.d(l,"a",function(){return w}),a.d(l,"i",function(){return F}),a.d(l,"j",function(){return k}),a.d(l,"b",function(){return _}),a.d(l,"v",function(){return D}),a.d(l,"m",function(){return I}),a.d(l,"J",function(){return S}),a.d(l,"k",function(){return T}),a.d(l,"L",function(){return $}),a.d(l,"n",function(){return P}),a.d(l,"g",function(){return E}),a.d(l,"p",function(){return z}),a.d(l,"l",function(){return U}),a.d(l,"F",function(){return j}),a.d(l,"E",function(){return A}),a.d(l,"D",function(){return B});var t=[{value:0,label:"激活"},{value:1,label:"冻结"}],r=[{value:1,label:"是"},{value:0,label:"否"}],o=[{value:0,label:"未启动"},{value:1,label:"运行中"},{value:2,label:"已停止"},{value:3,label:"已暂停"},{value:4,label:"已删除"}],n=[{value:"房建市政",label:"房建市政"},{value:"水利工程",label:"水利工程"},{value:"交通工程",label:"交通工程"},{value:"政府采购",label:"政府采购"},{value:"重点工程",label:"重点工程"},{value:"其他项目",label:"其他项目"}],i=[{value:0,label:"非电子"},{value:1,label:"电子"}],u=[{value:"待审核",label:"待审核"},{value:"已发布",label:"已发布"}],s=[{value:"公告中",label:"公告中"},{value:"待开标",label:"待开标"},{value:"已开标",label:"已开标"}],c=[{value:0,label:"省内"},{value:1,label:"省外"}],d=[{value:"1",label:"代理机构"},{value:"3",label:"投标人"}],v={1:[{value:"181",label:"房建招标代理"},{value:"182",label:"交通招标代理"},{value:"183",label:"水利招标代理"}],3:[{value:"131",label:"房建及市政施工单位"},{value:"132",label:"交通施工单位"},{value:"133",label:"水利施工单位"},{value:"135",label:"重点工程投标单位"},{value:"143",label:"水利监理单位"},{value:"163",label:"水利勘查设计单位"}]},b=[{value:"南昌市",label:"南昌市"},{value:"景德镇市",label:"景德镇市"},{value:"萍乡市",label:"萍乡市"},{value:"九江市",label:"九江市"},{value:"新余市",label:"新余市"},{value:"鹰潭市",label:"鹰潭市"},{value:"赣州市",label:"赣州市"},{value:"吉安市",label:"吉安市"},{value:"宜春市",label:"宜春市"},{value:"抚州市",label:"抚州市"},{value:"上饶市",label:"上饶市"}],m=[{value:"Image",label:"图片"},{value:"Document",label:"文档"},{value:"Video",label:"视频"},{value:"Audio",label:"音频"}],p=[{value:0,label:"资审文件"},{value:1,label:"招标文件"},{value:2,label:"清单文件"},{value:3,label:"控股价文件"},{value:4,label:"澄清答疑文件"}],f=[{value:0,label:"未知"},{value:1,label:"男"},{value:2,label:"女"}],h=[{value:"一级建造师",label:"一级建造师"},{value:"二级建造师",label:"二级建造师"},{value:"造价工程师",label:"造价工程师"},{value:"技工证",label:"技工证"},{value:"结构工程师",label:"结构工程师"},{value:"建筑师",label:"建筑师"},{value:"监理工程师",label:"监理工程师"},{value:"注册咨询师",label:"注册咨询师"},{value:"电气工程师",label:"电气工程师"},{value:"公用设备工程师",label:"公用设备工程师"},{value:"土木工程师",label:"土木工程师"},{value:"职称证书",label:"职称证书"},{value:"中级职称证书",label:"中级职称证书"},{value:"高级职称证书",label:"高级职称证书"},{value:"八大员",label:"八大员"},{value:"其他证书",label:"其他证书"}],g={"一级建造师":[{value:"建筑工程",label:"建筑工程"},{value:"机电工程",label:"机电工程"},{value:"市政公用",label:"市政公用"},{value:"公路工程",label:"公路工程"},{value:"铁路工程",label:"铁路工程"},{value:"水利水电",label:"水利水电"},{value:"民航机场",label:"民航机场"},{value:"通信与广电",label:"通信与广电"}],"二级建造师":[{value:"建筑工程",label:"建筑工程"},{value:"机电工程",label:"机电工程"},{value:"水利水电工程",label:"水利水电工程"},{value:"公路工程",label:"公路工程"},{value:"矿业工程",label:"矿业工程"},{value:"市政公用工程",label:"市政公用工程"}],"造价工程师":[{value:"建设部",label:"建设部"},{value:"交通部",label:"交通部"},{value:"水利部",label:"水利部"}],"技工证":[{value:"初级技工证",label:"初级技工证"},{value:"中级技工证",label:"中级技工证"},{value:"高级技工证",label:"高级技工证"}],"结构工程师":[{value:"一级结构师",label:"一级结构师"},{value:"二级结构师",label:"二级结构师"}],"建筑师":[{value:"一级建筑师",label:"一级建筑师"},{value:"二级建筑师",label:"二级建筑师"}],"监理工程师":[],"注册咨询师":[{value:"环境工程和生态建设",label:"环境工程和生态建设"},{value:"市政公用工程",label:"市政公用工程"},{value:"其他",label:"其他"},{value:"公路/铁路/民航",label:"公路/铁路/民航"},{value:"城市轨道交通",label:"城市轨道交通"},{value:"水电/核电/火电",label:"水电/核电/火电"},{value:"煤炭/石化",label:"煤炭/石化"},{value:"石油天然气",label:"石油天然气"},{value:"化工、医药",label:"化工、医药"},{value:"建筑/建筑材料",label:"建筑/建筑材料"},{value:"机械/电子",label:"机械/电子"},{value:"轻工/纺织、化纤",label:"轻工/纺织、化纤"},{value:"钢铁/有色冶金",label:"钢铁/有色冶金"},{value:"农业/林业",label:"农业/林业"},{value:"通信/广播电影电视",label:"通信/广播电影电视"},{value:"地质/测量/岩土工程",label:"地质/测量/岩土工程"},{value:"港口河海工程",label:"港口河海工程"},{value:"城市规划",label:"城市规划"},{value:"综合经济",label:"综合经济"}],"电气工程师":[{value:"供配电",label:"供配电"},{value:"发输变电",label:"发输变电"}],"公用设备工程师":[{value:"暖通空调",label:"暖通空调"},{value:"动力",label:"动力"},{value:"给水排水",label:"给水排水"}],"土木工程师":[{value:"注册岩土",label:"注册岩土"},{value:"港口航道",label:"港口航道"},{value:"水利水电",label:"水利水电"}],"职称证书":[{value:"工民建",label:"工民建"},{value:"建筑工程/土建/房建",label:"建筑工程/土建/房建"},{value:"园林设计师",label:"园林设计师"},{value:"其他",label:"其他"},{value:"结构",label:"结构"},{value:"暖通空调/热处理",label:"暖通空调/热处理"},{value:"设计类",label:"设计类"},{value:"市政/公路/机电",label:"市政/公路/机电"},{value:"土建/造价/概预算",label:"土建/造价/概预算"},{value:"土木工程/道路桥梁",label:"土木工程/道路桥梁"},{value:"经济师专业类",label:"经济师专业类"},{value:"电气",label:"电气"},{value:"船舶/冷冻类",label:"船舶/冷冻类"},{value:"计算机系统集成",label:"计算机系统集成"},{value:"建筑设计类",label:"建筑设计类"},{value:"园林绿化",label:"园林绿化"},{value:"暖通",label:"暖通"},{value:"给排水",label:"给排水"},{value:"化工",label:"化工"},{value:"燃气",label:"燃气"},{value:"机械设备/机械",label:"机械设备/机械"},{value:"电子",label:"电子"},{value:"通信",label:"通信"},{value:"水利水电",label:"水利水电"},{value:"电力/热能动力",label:"电力/热能动力"},{value:"岩土",label:"岩土"},{value:"能源工程",label:"能源工程"},{value:"环保/规划",label:"环保/规划"},{value:"焊接",label:"焊接"},{value:"会计",label:"会计"},{value:"环境工程",label:"环境工程"},{value:"总图",label:"总图"},{value:"测量/测绘",label:"测量/测绘"},{value:"防护防化",label:"防护防化"},{value:"通风",label:"通风"}],"中级职称证书":[{value:"工民建",label:"工民建"},{value:"建筑工程/土建/房建",label:"建筑工程/土建/房建"},{value:"园林设计师",label:"园林设计师"},{value:"其他",label:"其他"},{value:"结构",label:"结构"},{value:"暖通空调/热处理",label:"暖通空调/热处理"},{value:"设计类",label:"设计类"},{value:"市政/公路/机电",label:"市政/公路/机电"},{value:"土建/造价/概预算",label:"土建/造价/概预算"},{value:"土木工程/道路桥梁",label:"土木工程/道路桥梁"},{value:"经济师专业类",label:"经济师专业类"},{value:"电气",label:"电气"},{value:"船舶/冷冻类",label:"船舶/冷冻类"},{value:"计算机系统集成",label:"计算机系统集成"},{value:"建筑设计类",label:"建筑设计类"},{value:"园林绿化",label:"园林绿化"},{value:"暖通",label:"暖通"},{value:"给排水",label:"给排水"},{value:"化工",label:"化工"},{value:"燃气",label:"燃气"},{value:"机械设备/机械",label:"机械设备/机械"},{value:"电子",label:"电子"},{value:"通信",label:"通信"},{value:"水利水电",label:"水利水电"},{value:"电力/热能动力",label:"电力/热能动力"},{value:"岩土",label:"岩土"},{value:"能源工程",label:"能源工程"},{value:"环保/规划",label:"环保/规划"},{value:"焊接",label:"焊接"},{value:"会计",label:"会计"},{value:"环境工程",label:"环境工程"},{value:"总图",label:"总图"},{value:"测量/测绘",label:"测量/测绘"},{value:"防护防化",label:"防护防化"},{value:"通风",label:"通风"}],"高级职称证书":[{value:"工民建",label:"工民建"},{value:"建筑工程/土建/房建",label:"建筑工程/土建/房建"},{value:"园林设计师",label:"园林设计师"},{value:"其他",label:"其他"},{value:"结构",label:"结构"},{value:"暖通空调/热处理",label:"暖通空调/热处理"},{value:"设计类",label:"设计类"},{value:"市政/公路/机电",label:"市政/公路/机电"},{value:"土建/造价/概预算",label:"土建/造价/概预算"},{value:"土木工程/道路桥梁",label:"土木工程/道路桥梁"},{value:"经济师专业类",label:"经济师专业类"},{value:"电气",label:"电气"},{value:"船舶/冷冻类",label:"船舶/冷冻类"},{value:"计算机系统集成",label:"计算机系统集成"},{value:"建筑设计类",label:"建筑设计类"},{value:"园林绿化",label:"园林绿化"},{value:"暖通",label:"暖通"},{value:"给排水",label:"给排水"},{value:"化工",label:"化工"},{value:"燃气",label:"燃气"},{value:"机械设备/机械",label:"机械设备/机械"},{value:"电子",label:"电子"},{value:"通信",label:"通信"},{value:"水利水电",label:"水利水电"},{value:"电力/热能动力",label:"电力/热能动力"},{value:"岩土",label:"岩土"},{value:"能源工程",label:"能源工程"},{value:"环保/规划",label:"环保/规划"},{value:"焊接",label:"焊接"},{value:"会计",label:"会计"},{value:"环境工程",label:"环境工程"},{value:"总图",label:"总图"},{value:"测量/测绘",label:"测量/测绘"},{value:"防护防化",label:"防护防化"},{value:"通风",label:"通风"}],"八大员":[{value:"通信",label:"通信"},{value:"施工员",label:"施工员"},{value:"质量员",label:"质量员"},{value:"安全员",label:"安全员"},{value:"机械员",label:"机械员"},{value:"造价员",label:"造价员"},{value:"劳务员",label:"劳务员"},{value:"材料员",label:"材料员"},{value:"资料员",label:"资料员"}],"其他证书":[]},M=[{value:"闲置中",label:"闲置中"},{value:"合同快到期",label:"合同快到期"}],y=[{value:"初始",label:"初始"},{value:"转注",label:"转注"}],x=[{value:"一万元以下",label:"一万元以下"},{value:"1-2万元",label:"1-2万元"},{value:"2-3万元",label:"2-3万元"},{value:"3-5万元",label:"3-5万元"},{value:"5-10万元",label:"5-10万元"},{value:"10-15万元",label:"10-15万元"},{value:"15万元以上",label:"15万元以上"}],w=[{value:0,label:"购买"},{value:1,label:"转让"}],F=[{value:"一级",label:"一级"},{value:"二级",label:"二级"},{value:"三级",label:"三级"}],k=[{value:"房建市政",label:"房建市政"},{value:"水利工程",label:"水利工程"},{value:"交通工程",label:"交通工程"},{value:"政府采购",label:"政府采购"},{value:"重点工程",label:"其他项目"}],_=[{value:"小轿车",label:"小轿车"},{value:"suv",label:"suv"},{value:"面包车",label:"面包车"},{value:"越野车",label:"越野车"},{value:"班车",label:"班车"}],D=[{value:0,label:"全职"},{value:1,label:"兼职"}],I=[{value:"不限",label:"不限"},{value:"大专",label:"大专"},{value:"本科",label:"本科"},{value:"硕士",label:"硕士"},{value:"博士",label:"博士"}],S=[{value:"资料",label:"资料"},{value:"文件夹",label:"文件夹"},{value:"物品",label:"物品"},{value:"包裹",label:"包裹"},{value:"重要证件",label:"重要证件"}],T=[{value:0,label:"待使用"},{value:1,label:"已使用"}],$=[{value:"验证不通过",label:"验证不通过"},{value:"验证通过",label:"验证通过"}],P=[{value:0,label:"审核中"},{value:1,label:"审核通过"},{value:2,label:"审核不通过"}],E=[{value:"资格后审",label:"资格后审"}],z=[{value:"赣州智悦网络科技有限公司",label:"赣州智悦网络科技有限公司"}],U=[{value:"充值VIP",label:"充值VIP"}],j=[{value:"招聘中",label:"招聘中"},{value:"已停止",label:"已停止"}],A=[{value:"project/house",label:"房建市政"},{value:"project/conservancy",label:"水利工程"},{value:"project/traffic",label:"交通工程"},{value:"project/procurement",label:"政府采购"},{value:"project/key",label:"重点项目"},{value:"project/other",label:"其他项目"}],B=[{value:"project-announce/house",label:"房建市政公示"},{value:"project-announce/conservancy",label:"水利工程公示"},{value:"project-announce/traffic",label:"交通工程公示"},{value:"project-announce/procurement",label:"政府采购公示"},{value:"project-announce/key",label:"重点项目公示"},{value:"project-announce/other",label:"其他项目公示"}]},"386d":function(e,l,a){a("214f")("search",1,function(e,l,a){return[function(a){"use strict";var t=e(this),r=void 0==a?void 0:a[l];return void 0!==r?r.call(a,t):new RegExp(a)[l](String(t))},a]})},"6e2a":function(e,l,a){"use strict";var t=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("Modal",{attrs:{title:e.title,"mask-closable":!0},model:{value:e.uploadModal,callback:function(l){e.uploadModal=l},expression:"uploadModal"}},[a("Upload",{attrs:{type:"drag",format:e.format,"before-upload":e.handleBeforeUpload,"show-upload-list":!1,"on-format-error":e.handleFormatError,"on-success":e.handleSuccess,"on-error":e.handleError,action:e.baseUrl+e.uploadUrl,headers:e.uploadHeaders,multiple:e.multiple}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[e._v("单击或拖动文件到此处上传")])],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"default",size:"large"},on:{click:function(l){e.uploadModal=!1}}},[e._v("关闭")])],1)],1)},r=[],o=(a("7f7f"),a("c276")),n=a("f121"),i=a("2e19"),u=n["a"].baseUrl.pro,s={name:"UploadModal",props:{title:"",name:"",format:"",multiple:!1},components:{},data:function(){return{uploadModal:!1,baseUrl:u,uploadUrl:"",uploadHeaders:{Authorization:"Bearer "+Object(o["e"])()}}},methods:{handleBeforeUpload:function(e){this.$Notice.warning({title:"文件正在上传",desc:"文件 "+e.name+" 正在上传"})},handleFormatError:function(e){this.$Notice.warning({title:"文件格式不正确",desc:"文件 "+e.name+" 格式不正确，请选择json格式的文件"})},handleSuccess:function(e,l){e.code===i["b"]?(this.$Notice.success({title:"文件上传成功",desc:e.message}),this.uploadModal=!1,this.$emit("search")):this.$Notice.error({title:"文件上传失败",desc:"文件 "+l.name+" "+e.message})},handleError:function(e){this.$Notice.error({title:"文件上传失败",desc:"文件 "+e.name+" 上传失败，请重新上传"})}},mounted:function(){}},c=s,d=a("2877"),v=Object(d["a"])(c,t,r,!1,null,null,null),b=v.exports;l["a"]=b},"816b":function(e,l,a){"use strict";a.d(l,"a",function(){return r}),a.d(l,"g",function(){return o}),a.d(l,"j",function(){return n}),a.d(l,"h",function(){return i}),a.d(l,"e",function(){return u}),a.d(l,"d",function(){return s}),a.d(l,"c",function(){return c}),a.d(l,"b",function(){return d}),a.d(l,"f",function(){return v}),a.d(l,"k",function(){return b}),a.d(l,"i",function(){return m});var t=a("66df"),r=function(){return t["a"].request({url:"/module/admin/all",method:"GET",data:""})},o=function(e){return t["a"].request({url:"/module/admin/one/"+e,method:"GET",data:""})},n=function(e){return t["a"].request({url:"/user-userdetail/admin/multi/"+e,method:"GET",data:""})},i=function(e){return t["a"].request({url:"/project/admin/one/"+e,method:"GET",data:""})},u=function(e){return t["a"].request({url:"/coupon/admin/one/"+e,method:"GET",data:""})},s=function(e){return t["a"].request({url:"/company/admin/one/"+e,method:"GET",data:""})},c=function(e){return t["a"].request({url:"/builder/admin/one/"+e,method:"GET",data:""})},d=function(e){return t["a"].request({url:"/aptitude-transfer/admin/one/"+e,method:"GET",data:""})},v=function(e){return t["a"].request({url:"/experquestion-type/admin/one/"+e,method:"GET",data:""})},b=function(e){return t["a"].request({url:"/user-expert/admin/one/"+e,method:"GET",data:""})},m=function(e){return t["a"].request({url:"/service/admin/one/"+e,method:"GET",data:""})}},cc5e:function(e,l,a){"use strict";a.d(l,"b",function(){return r}),a.d(l,"c",function(){return o}),a.d(l,"a",function(){return n}),a.d(l,"d",function(){return i});var t=a("66df"),r=function(e){return t["a"].request({url:"/role-permission/admin/multi/"+e,method:"GET",data:""})},o=function(){return t["a"].request({url:"/module-permission/user/all",method:"GET",data:""})},n=function(e){return t["a"].request({url:"/role-permission/admin/batch-save",method:"POST",data:e})},i=function(e){return t["a"].request({url:"/user-role/admin/multi/"+e,method:"GET",data:""})}},d78a:function(e,l,a){"use strict";a.r(l);var t=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",[a("Row",[a("i-col",{attrs:{span:"24"}},[a("Card",[a("Button",{attrs:{type:"primary"},on:{click:function(l){e.showModal("add")}}},[e._v("添加")]),e._v(" \n        "),a("Dropdown",{on:{"on-click":e.batchOpt}},[a("Button",{attrs:{type:"primary"}},[e._v("导入导出\n            "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"import"}},[e._v("\n              导入角色\n            ")]),a("DropdownItem",{attrs:{name:"export"}},[a("span",{staticStyle:{color:"green"}},[e._v("导出角色")])])],1)],1),e._v(" \n        "),a("Dropdown",{on:{"on-click":e.batchOpt}},[a("Button",{attrs:{type:"primary"}},[e._v("批量操作\n            "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"batchActive"}},[e._v("批量激活")]),a("DropdownItem",{attrs:{name:"batchInactive"}},[a("span",{staticStyle:{color:"red"}},[e._v("批量冻结")])]),a("DropdownItem",{attrs:{name:"batchRemove",divided:""}},[a("span",{staticStyle:{color:"red"}},[e._v("批量删除")])])],1)],1),e._v(" \n        "),a("Button",{attrs:{type:"primary"},on:{click:function(l){e.showModal("search")}}},[e._v("高级搜索")]),e._v(" \n        "),a("Tooltip",{attrs:{content:"刷新",placement:"right"}},[a("Button",{attrs:{icon:"md-refresh",type:"success",shape:"circle"},on:{click:e.search}})],1),a("Table",{ref:"dataTable",staticStyle:{"margin-top":"20px"},attrs:{stripe:"",loading:e.table.loading,columns:e.table.tableColumns,data:e.table.tableDetails},on:{"on-selection-change":e.changeSelection,"on-sort-change":e.changeSort}}),a("role-permission",{ref:"rolePermission"}),a("div",{staticStyle:{margin:"20px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.page.total,current:e.searchForm.pageNo,showSizer:"",showTotal:""},on:{"on-change":e.changePageNo,"on-page-size-change":e.changePageSize}})],1)])],1)],1)],1),a("UploadModal",{ref:"uploadModal",attrs:{title:e.uploadModal.title,format:e.uploadModal.format},on:{search:e.search}}),a("Modal",{attrs:{title:"添加"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("addForm",l)}},model:{value:e.modal.add,callback:function(l){e.$set(e.modal,"add",l)},expression:"modal.add"}},[a("Form",{ref:"addForm",attrs:{model:e.form,"label-width":80,rules:e.validateRules}},[a("FormItem",{attrs:{label:"角色标题",prop:"title"}},[a("Input",{attrs:{placeholder:"请输入角色标题"},model:{value:e.form.title,callback:function(l){e.$set(e.form,"title",l)},expression:"form.title"}})],1),a("FormItem",{attrs:{label:"角色描述",prop:"description"}},[a("Input",{attrs:{type:"textarea",autosize:e.descriptionAutoSize,placeholder:"请输入角色描述"},model:{value:e.form.description,callback:function(l){e.$set(e.form,"description",l)},expression:"form.description"}})],1),a("FormItem",{attrs:{label:"是否默认",prop:"isDefault"}},[a("Select",{attrs:{placeholder:"请选择是否默认角色",filterable:""},model:{value:e.form.isDefault,callback:function(l){e.$set(e.form,"isDefault",l)},expression:"form.isDefault"}},e._l(e.isDefaultSelect,function(l){return a("Option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.resetFormCancelModal("addForm","add")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.add},on:{click:e.add}},[e._v("添加")])],1)],1),a("Modal",{attrs:{title:"修改"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("editForm",l)}},model:{value:e.modal.edit,callback:function(l){e.$set(e.modal,"edit",l)},expression:"modal.edit"}},[a("Form",{ref:"editForm",attrs:{model:e.form,"label-width":80,rules:e.validateRules}},[a("FormItem",{attrs:{label:"角色标题",prop:"title"}},[a("Input",{attrs:{placeholder:"请输入角色标题"},model:{value:e.form.title,callback:function(l){e.$set(e.form,"title",l)},expression:"form.title"}})],1),a("FormItem",{attrs:{label:"角色描述",prop:"description"}},[a("Input",{attrs:{type:"textarea",autosize:e.descriptionAutoSize,placeholder:"请输入角色描述"},model:{value:e.form.description,callback:function(l){e.$set(e.form,"description",l)},expression:"form.description"}})],1),a("FormItem",{attrs:{label:"是否默认",prop:"isDefault"}},[a("Select",{attrs:{placeholder:"请选择是否默认角色",filterable:""},model:{value:e.form.isDefault,callback:function(l){e.$set(e.form,"isDefault",l)},expression:"form.isDefault"}},e._l(e.isDefaultSelect,function(l){return a("Option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.resetFormCancelModal("editForm","edit")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.edit},on:{click:e.edit}},[e._v("修改")])],1)],1),a("Modal",{attrs:{title:"高级搜索"},model:{value:e.modal.search,callback:function(l){e.$set(e.modal,"search",l)},expression:"modal.search"}},[a("Form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":80}},[a("FormItem",{attrs:{label:"角色编号"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"idMin"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入开始角色编号"},model:{value:e.searchForm.idMin,callback:function(l){e.$set(e.searchForm,"idMin",l)},expression:"searchForm.idMin"}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"idMax"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入结束角色编号"},model:{value:e.searchForm.idMax,callback:function(l){e.$set(e.searchForm,"idMax",l)},expression:"searchForm.idMax"}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"角色标题",prop:"title"}},[a("Input",{attrs:{placeholder:"请输入角色标题"},model:{value:e.searchForm.title,callback:function(l){e.$set(e.searchForm,"title",l)},expression:"searchForm.title"}})],1),a("FormItem",{attrs:{label:"是否激活",prop:"isActive"}},[a("Select",{attrs:{placeholder:"请选择是否激活",clearable:"",filterable:""},model:{value:e.searchForm.isActive,callback:function(l){e.$set(e.searchForm,"isActive",l)},expression:"searchForm.isActive"}},e._l(e.isActiveSelect,function(l){return a("Option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1),a("FormItem",{attrs:{label:"是否默认",prop:"isDefault"}},[a("Select",{attrs:{placeholder:"请选择是否默认角色",clearable:"",filterable:""},model:{value:e.searchForm.isDefault,callback:function(l){e.$set(e.searchForm,"isDefault",l)},expression:"searchForm.isDefault"}},e._l(e.isDefaultSelect,function(l){return a("Option",{key:l.value,attrs:{value:l.value}},[e._v(e._s(l.label))])}))],1),a("FormItem",{attrs:{label:"版本号"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"versionMin"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入开始版本号"},model:{value:e.searchForm.versionMin,callback:function(l){e.$set(e.searchForm,"versionMin",l)},expression:"searchForm.versionMin"}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"versionMax"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入结束版本号"},model:{value:e.searchForm.versionMax,callback:function(l){e.$set(e.searchForm,"versionMax",l)},expression:"searchForm.versionMax"}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"创建时间"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"createTimeMin"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.createTimeMin,placeholder:"请输入开始创建时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.createTimeMin=l}}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"createTimeMax"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.createTimeMax,placeholder:"请输入结束创建时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.createTimeMax=l}}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"更新时间"}},[a("Row",[a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"updateTimeMin"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.updateTimeMin,placeholder:"请输入开始更新时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.updateTimeMin=l}}})],1)],1),a("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("i-col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"updateTimeMax"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.searchForm.updateTimeMax,placeholder:"请输入结束更新时间",type:"datetime",format:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(l){e.searchForm.updateTimeMax=l}}})],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.resetForm("searchForm")}}},[e._v("清空")]),a("Button",{attrs:{type:"text",size:"large"},on:{click:function(l){e.cancelModal("search")}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",loading:e.loading.search},on:{click:function(l){e.searchOkModal("search")}}},[e._v("搜索")])],1)],1),a("Modal",{attrs:{title:"详情"},on:{"on-visible-change":function(l){e.changeModalVisibleResetForm("editForm",l)}},model:{value:e.modal.detail,callback:function(l){e.$set(e.modal,"detail",l)},expression:"modal.detail"}},[a("p",[e._v("角色编号:\n      "),a("span",{domProps:{textContent:e._s(e.form.id)}})]),a("p",[e._v("角色标题:\n      "),a("span",{domProps:{textContent:e._s(e.form.title)}})]),a("p",[e._v("角色描述:\n      "),a("span",{domProps:{textContent:e._s(e.form.description)}})]),a("p",[e._v("是否默认角色:\n      "),a("span",{domProps:{textContent:e._s(1===e.form.isDefault?"是":"否")}})]),a("p",[e._v("版本号:\n      "),a("span",{domProps:{textContent:e._s(e.form.version)}})]),a("p",[e._v("创建时间:\n      "),a("span",{domProps:{textContent:e._s(e.form.createTime)}})]),a("p",[e._v("更新时间:\n      "),a("span",{domProps:{textContent:e._s(e.form.updateTime)}})]),a("p",[e._v("是否激活:\n      "),a("span",{domProps:{textContent:e._s(0===e.form.isActive?"激活":"冻结")}})])])],1)},r=[],o=a("f499"),n=a.n(o),i=(a("386d"),a("f62d")),u=a("1a21"),s=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",[a("Drawer",{attrs:{title:"分配角色权限",closable:!0,"mask-closable":!1},on:{"on-close":e.closeDrawer},model:{value:e.drawerFlag,callback:function(l){e.drawerFlag=l},expression:"drawerFlag"}},[a("Button",{attrs:{size:"small",type:"primary"},on:{click:e.savePermission}},[e._v("保存")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:e.closeDrawer}},[e._v("关闭")]),a("Divider"),a("Tree",{ref:"permissionTree",attrs:{data:e.permissionData,"show-checkbox":"",multiple:"",scrollable:""}}),e.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1)},c=[],d=(a("ac6a"),a("cc5e")),v=a("816b"),b=a("2e19"),m={name:"RolePerminission",props:{},data:function(){return{roleId:"",drawerFlag:!1,spinShow:!0,allModuleList:[],multiPermissionList:[],userPermissionList:[],permissionData:[{title:this.$config.permissionTreeTitle,expand:!0,children:[]}]}},mounted:function(){},methods:{initData:function(e){var l=this;this.drawerFlag=!0,this.spinShow=!0,this.roleId=e,Object(v["a"])().then(function(a){var t=a.data;t.code===b["b"]?(l.allModuleList=t.data.rows,Object(d["b"])(e).then(function(e){var a=e.data;a.code===b["b"]?(l.multiPermissionList=a.data.rows,Object(d["c"])().then(function(e){var a=e.data;a.code===b["b"]?(l.userPermissionList=a.data.rows,l.initPermissionData()):l.$Message.error(a.message)}).catch(function(e){l.$Message.error(e)})):l.$Message.error(a.message)}).catch(function(e){l.$Message.error(e)})):l.$Message.error(t.message)}).catch(function(e){l.$Message.error(e)})},initPermissionData:function(){var e=this,l=[];this.allModuleList.forEach(function(a){var t={};t.title=a.title,t.expand=!0;var r=[];e.userPermissionList.forEach(function(l){if(l.permissionModuleId===a.id){var t=l.permissionId,o={};o.title=l.permissionTitle,o.expand=!0;var n=!1;e.multiPermissionList.forEach(function(e){e.permissionId===t&&(n=!0)}),o.permissionId=t,o.checked=n,r.push(o)}}),t.children=r,l.push(t)}),this.permissionData[0].children=l,this.spinShow=!1},closeDrawer:function(){this.drawerFlag=!1,this.permissionData=[{title:this.$config.permissionTreeTitle,expand:!0,children:[]}]},savePermission:function(){var e=this;if(""!==this.roleId){var l=this.$refs.permissionTree.data,a=[];l.forEach(function(e){var l=e.children;l.forEach(function(e){var l=e.children;l.forEach(function(e){!0===e.checked&&a.push(e.permissionId)})})});var t=[];a.forEach(function(l){t.push({roleId:e.roleId,permissionId:l})}),Object(d["a"])(t).then(function(l){var a=l.data;a.code===b["b"]?(e.$Message.info("保存成功"),e.drawerFlag=!1):e.$Message.error(a.message)}).catch(function(l){e.$Message.error(l)})}else this.$Message.error("请刷新页面重试")}}},p=m,f=a("2877"),h=Object(f["a"])(p,s,c,!1,null,null,null),g=h.exports,M=a("6e2a"),y={name:"Role",components:{rolePermission:g,UploadModal:M["a"]},data:function(){var e=this;return{uploadModal:{title:"导入角色信息",format:["json"],uploadUrl:"/permission-import-export/import-role"},exportFileName:"roles.json",modal:{add:!1,edit:!1,search:!1,detail:!1},loading:{add:!1,edit:!1,search:!1},urls:{addUrl:"/role/admin/save",batchAddUrl:"/role/admin/batch-save",editUrl:"/role/admin/update",batchEditUrl:"/role/admin/batch-update",searchUrl:"/role/admin/pager-cond",allUrl:"/role/admin/all",removeUrl:"/role/admin/remove/",batchRemoveUrl:"/role/admin/batch-remove",detailUrl:"/role/admin/one/",activeUrl:"/role/admin/active",batchActiveUrl:"/role/admin/batch-active",exportUrl:"/permission-import-export/export-roles"},page:{total:0},form:{id:null,title:null,description:null,isDefault:null,version:null,createTime:null,updateTime:null,isActive:null},validateRules:{title:[{type:"string",required:!0,message:"此项为必须项",trigger:"blur"},{type:"string",min:1,max:50,message:"必须1-50个字符",trigger:"blur"}],description:[{type:"string",min:1,max:200,message:"必须1-200个字符",trigger:"blur"}]},searchForm:{pageNo:1,pageSize:10,sortColumn:null,sortOrder:null,id:null,idMin:null,idMax:null,title:null,description:null,isDefault:null,isDefaultMin:null,isDefaultMax:null,version:null,versionMin:null,versionMax:null,createTime:null,createTimeMin:null,createTimeMax:null,updateTime:null,updateTimeMin:null,updateTimeMax:null,isActive:null,isActiveMin:null,isActiveMax:null},table:{loading:!1,tableColumns:[{type:"selection",width:45,key:"id",align:"center",fixed:"left"},{width:60,align:"center",fixed:"left",render:function(l,a){return l("span",a.index+(e.searchForm.pageNo-1)*e.searchForm.pageSize+1)}},{title:"角色编号",key:"id",minWidth:120,sortable:!0},{title:"角色标题",key:"title",minWidth:120,sortable:!0},{title:"角色描述",key:"description",minWidth:120,sortable:!0},{title:"是否默认角色",key:"isDefault",minWidth:120,sortable:!0},{title:"版本号",key:"version",minWidth:120,sortable:!0},{title:"创建时间",key:"createTime",minWidth:120,sortable:!0},{title:"更新时间",key:"updateTime",minWidth:120,sortable:!0},{title:"是否激活",key:"isActive",minWidth:120,sortable:!0},{title:"激活状态",key:"isActive",minWidth:100,align:"center",render:function(l,a){return l("i-switch",{props:{size:"large",value:0===a.row.isActive},style:{marginRight:"5px"},on:{"on-change":function(l){e.active(a.row)}}},[l("span",{slot:"open"},"激活"),l("span",{slot:"close"},"冻结")])}},{title:"操作",key:"action",width:120,align:"center",fixed:"right",render:function(l,a){return l("Dropdown",{on:{"on-click":function(l){e.userOpt(l,a.row)}},props:{transfer:!0}},[l("Button",{props:{type:"primary",size:"small"}},["选择操作 ",l("Icon",{props:{type:"ios-arrow-down"}})]),l("DropdownMenu",{slot:"list"},[l("DropdownItem",{props:{name:"showEdit"}},"编辑"),l("DropdownItem",{props:{name:"showDetail"}},"详情"),l("DropdownItem",{props:{name:"remove"}},[l("span",{style:{color:"red"}},"删除")]),l("DropdownItem",{props:{name:"perminssion"}},"权限")])])}}],tableDetails:[],selections:[]},descriptionAutoSize:{minRows:3,maxRows:5},isActiveSelect:u["r"],isDefaultSelect:u["s"]}},computed:{},mounted:function(){this.search()},methods:{showModal:function(e){i["B"](this,e)},changeModalVisibleResetForm:function(e,l){l||i["z"](this,e)},resetForm:function(e){i["z"](this,e)},cancelModal:function(e){i["h"](this,e)},resetFormCancelModal:function(e,l){i["h"](this,l),i["z"](this,e)},searchOkModal:function(e){i["h"](this,e),i["A"](this)},batchOpt:function(e){"batchActive"===e?i["f"](this,0):"batchInactive"===e?i["f"](this,1):"batchRemove"===e?i["g"](this):"import"===e?this.showUploadModal():"export"===e&&i["r"](this)},userOpt:function(e,l){"showEdit"===e?(i["B"](this,"edit"),this.form=JSON.parse(n()(l))):"showDetail"===e?(i["B"](this,"detail"),this.form=JSON.parse(n()(l))):"remove"===e?i["y"](this,l):"perminssion"===e&&this.$refs.rolePermission.initData(l.id)},add:function(){i["c"](this)},edit:function(){i["q"](this)},active:function(e){i["b"](this,e)},search:function(){i["A"](this)},changeSelection:function(e){i["o"](this,e)},changeSort:function(e){i["p"](this,e)},changePageNo:function(e){i["j"](this,e)},changePageSize:function(e){i["k"](this,e)},showUploadModal:function(){this.$refs.uploadModal.uploadUrl=this.uploadModal.uploadUrl,this.$refs.uploadModal.uploadModal=!0}}},x=y,w=Object(f["a"])(x,t,r,!1,null,null,null);l["default"]=w.exports}}]);